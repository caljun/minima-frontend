<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>出品 | minima</title>
  <link rel="stylesheet" href="css/post.css" />
</head>
<body>

  <!-- ヘッダー -->
  <header class="fixed-header">
    <h1>出品</h1>
    <div class="progress-bar">
      <div class="progress-step active" data-step="1">画像</div>
      <div class="progress-step" data-step="2">基本情報</div>
      <div class="progress-step" data-step="3">確認</div>
    </div>
  </header>

  <!-- 出品フォーム -->
  <main class="post-form-container">
    <form id="postForm" enctype="multipart/form-data">
      <!-- Step 1: 画像アップロード -->
      <div class="form-step" id="step1">
        <div class="image-upload-area" id="dropZone">
          <div class="upload-placeholder">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"/>
              <path d="M12 8v8M8 12h8"/>
            </svg>
            <p>画像をドラッグ＆ドロップ<br>または選択してください</p>
          </div>
          <input type="file" id="postImage" accept="image/*" required hidden />
        </div>
        <div id="imagePreview" class="image-preview hidden"></div>
        <button type="button" class="next-step">次へ</button>
      </div>

      <!-- Step 2: 基本情報 -->
      <div class="form-step hidden" id="step2">
        <div class="input-group">
          <label for="postName">商品名</label>
          <input type="text" id="postName" required />
          <span class="validation-message"></span>
        </div>
        
        <div class="input-group">
          <label for="postPrice">価格</label>
          <div class="price-input-wrapper">
            <input type="number" id="postPrice" min="1" max="10000" required />
            <span class="currency">円</span>
          </div>
          <div class="commission-preview">
            <span>販売手数料: <span id="commission">0</span>円</span>
            <span>販売利益: <span id="profit">0</span>円</span>
          </div>
        </div>

        <div class="input-group">
          <label for="postCategory">カテゴリー</label>
          <select id="postCategory" required>
            <option value="">選択してください</option>
            <option value="fashion">ファッション</option>
            <option value="electronics">家電・スマホ</option>
            <option value="books">本・音楽・ゲーム</option>
            <option value="hobby">おもちゃ・ホビー</option>
            <option value="beauty">コスメ・美容</option>
          </select>
        </div>

        <div class="input-group">
          <label for="postDescription">商品の説明</label>
          <textarea id="postDescription" rows="4" placeholder="商品の状態、発送方法など"></textarea>
          <span class="char-count">0/1000</span>
        </div>

        <div class="button-group">
          <button type="button" class="back-step">戻る</button>
          <button type="button" class="next-step">確認する</button>
        </div>
      </div>

      <!-- Step 3: 確認画面 -->
      <div class="form-step hidden" id="step3">
        <div class="preview-container">
          <h3>出品内容の確認</h3>
          <div id="finalPreview"></div>
        </div>
        <div class="button-group">
          <button type="button" class="back-step">修正する</button>
          <button type="submit" class="submit-button">出品する</button>
        </div>
      </div>
    </form>
  </main>

  <!-- 共通タブバー -->
  <nav class="tab-bar">
    <a href="home.html" class="tab-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M3 9L12 2l9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <path d="M9 22V12h6v10"/>
      </svg>
      <span class="label">ホーム</span>
    </a>
    <a href="search.html" class="tab-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" fill="none" stroke-width="2">
        <circle cx="11" cy="11" r="8" />
        <line x1="21" y1="21" x2="16.65" y2="16.65" />
      </svg>
      <span class="label">検索</span>
    </a>
    <a href="post.html" class="tab-item active">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" fill="none" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 8v8M8 12h8"/>
      </svg>
      <span class="label">出品</span>
    </a>
    <a href="notification.html" class="tab-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M18 8a6 6 0 1 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"/>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
      </svg>
      <span class="label">通知</span>
    </a>
    <a href="profile.html" class="tab-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" fill="none" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
      <span class="label">プロフ</span>
    </a>
  </nav>

  <script src="scripts/post.js"></script>
</body>
</html>
